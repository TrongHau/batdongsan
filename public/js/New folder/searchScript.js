$.ui.autocomplete.prototype._renderItem=function(h,b){var g=this.term.split(" ");var f=b.label.split(" ");var d="";var e=new RegExp("(~|!|@|#|\\$|%|\\^|&|\\*|\\(|\\)|_|\\+|\\{|\\}|\\||\"|:|\\?|>|<|,|\\.|\\/|;|'|\\|[|]|=|-)","gi");for(var c=0;c<f.length;c++){if(d.length>0){d+=" "}var k=f[c];for(var a=0;a<g.length;a++){if(UnicodeToKoDau(g[a].replace(e,"")).toLowerCase()==UnicodeToKoDau(k.replace(e,"")).toLowerCase()){k="<b>"+k+"</b>";break}}d+=k}if(hdbCategory.GetValue()==38){if(b.id.ts>0){return $("<li></li>").data("item.autocomplete",b).append("<a>"+d+" <font style='color:#319c00;font-size:11px;font-weight:700'>("+b.id.ts+" tin)</font></a>").appendTo(h)}else{return $("<li></li>").data("item.autocomplete",b).append("<a>"+d+"</a>").appendTo(h)}}else{if(b.id.tr>0){return $("<li></li>").data("item.autocomplete",b).append("<a>"+d+" <font style='color:#319c00;font-size:11px;font-weight:700'>("+b.id.tr+" tin)</font></a>").appendTo(h)}else{return $("<li></li>").data("item.autocomplete",b).append("<a>"+d+"</a>").appendTo(h)}}};___isIE=/MSIE (\d+\.\d+);/.test(navigator.userAgent);var cityList=[];var hdbCategory=$("#divCategory").AdvanceHiddenDropbox({id:"divCatagoryOptions",hddValue:"hdCboCatagory"});var hdbCategoryRe=$("#divCategoryRe").AdvanceHiddenDropbox({id:"divCatagoryReOptions",hddValue:"hdCboCatagoryRe"});var hdbDistrict=$("#divDistrict").AdvanceHiddenDropbox({id:"divDistrictOptions",hddValue:"hdCboDistrict"});var hdbCity=$("#divCity").AdvanceHiddenDropbox({id:"divCityOptions",hddValue:"hdCboCity"});var hdbWard=$("#divWard").AdvanceHiddenDropbox({id:"divWardOptions",hddValue:"hdCboWard"});var hdbStreet=$("#divStreet").AdvanceHiddenDropbox({id:"divStreetOptions",hddValue:"hdCboStreet"});var hdbBedRoom=$("#divBedRoom").AdvanceHiddenDropbox({id:"divBedRoomOptions",hddValue:"hdCboBedRoom"});var hdbHomeDirection=$("#divHomeDirection").AdvanceHiddenDropbox({id:"divHomeDirectionOptions",hddValue:"hdCboHomeDirection"});var hdbProject=$("#divProject").AdvanceHiddenDropbox({id:"divProjectOptions",hddValue:"hdCboProject"});var hdbPrice=$("#divPrice").AdvanceHiddenDropbox({id:"divPriceOptions",minValue:"txtPriceMinValue",maxValue:"txtPriceMaxValue",unit:"money",lblMin:"lblPriceMin",lblMax:"lblPriceMax",hddValue:"hdCboPrice"});var hdbArea=$("#divArea").AdvanceHiddenDropbox({id:"divAreaOptions",minValue:"txtAreaMinValue",maxValue:"txtAreaMaxValue",unit:"area",hddValue:"hdCboArea"});var hdbBrokerCategory=$("#divBrokerCategory").AdvanceHiddenDropbox({id:"divBrokerCategoryOptions",hddValue:"hdBrokerCategory"});var hdbBrokerTypeBDS=$("#divBrokerTypeBDS").AdvanceHiddenDropbox({id:"divBrokerTypeBDSOptions",hddValue:"hdBrokerTypeBDS"});var hdbBrokerCity=$("#divBrokerCity").AdvanceHiddenDropbox({id:"divBrokerCityOptions",hddValue:"hdBrokerCity"});var hdbBrokerDistrict=$("#divBrokerDistrict").AdvanceHiddenDropbox({id:"divBrokerDistrictOptions",hddValue:"hdBrokerDistrict"});var hdbBrokerProject=$("#divBrokerProject").AdvanceHiddenDropbox({id:"divBrokerProjectOptions",hddValue:"hdBrokerProject"});function ShowTab(a){switch(a){case 1:$("form").attr("action","/HandlerWeb/redirect.ashx?IsMainSearch=true");$("#divOfSeach").show();$("#divReSaler").hide();$("#divTabRESale").attr("class","divSearchAct");$("#divTabREBorrow").attr("class","divSearchInAct");$("#divTabRESaler").attr("class","divSearchInAct");$("#tab-line_1").css("display","none");$("#tab-line_2").css("display","block");ChangeClassName("divTabREBorrow",false);ChangeClassName("divTabRESale",true);ChangeClassName("divTabRESaler",false);hdbCategory.SetValue(38);ChangeCategory(hdbCategory.GetValue());GetPrices(hdbCategory.GetValue());if($.browser.opera||($.browser.msie&&$.browser.version.substr(0,1)<=7)){}else{if(hdbCategoryRe.GetValue().length==0){hdbCategoryRe.SetValue(0)}if(hdbCity.GetValue().length==0){hdbCity.SetValue("CN")}if(hdbDistrict.GetValue().length==0){hdbDistrict.SetValue(0)}if(hdbArea.GetValue().length==0){hdbArea.SetValue("-1")}if(hdbPrice.GetValue().length==0){hdbPrice.SetValue("-1")}if(hdbBedRoom.GetValue().length==0){hdbBedRoom.SetValue(-1)}if(hdbHomeDirection.GetValue().length==0){hdbHomeDirection.SetValue(-1)}$("#cboListProj option[value='']").attr("value","0");if(hdbWard.GetValue().length==0){hdbWard.SetValue(0)}if(hdbStreet.GetValue().length==0){hdbStreet.SetValue(0)}if(hdbBrokerCategory.GetValue().length==0){hdbBrokerCategory.SetValue(0)}if(hdbBrokerTypeBDS.GetValue().length==0){hdbBrokerTypeBDS.SetValue(0)}if(hdbBrokerCity.GetValue().length==0){hdbBrokerCity.SetValue("CN")}if(hdbBrokerDistrict.GetValue().length==0){hdbBrokerDistrict.SetValue(0)}if(hdbBrokerProject.GetValue().length==0){hdbBrokerProject.SetValue(0)}}break;case 2:$("form").attr("action","/HandlerWeb/redirect.ashx?IsMainSearch=true");$("#divOfSeach").show();$("#divReSaler").hide();$("#divTabRESale").attr("class","divSearchInAct");$("#divTabREBorrow").attr("class","divSearchAct");$("#divTabRESaler").attr("class","divSearchInAct");$("#tab-line_1").css("display","none");$("#tab-line_2").css("display","none");ChangeClassName("divTabREBorrow",true);ChangeClassName("divTabRESale",false);ChangeClassName("divTabRESaler",false);hdbCategory.SetValue(49);ChangeCategory(hdbCategory.GetValue());GetPrices(hdbCategory.GetValue());break;case 3:$("form").attr("action","/HandlerWeb/redirect.ashx?IsMainSearch=true&IsBroker=true");$("#divOfSeach").hide();$("#divReSaler").show();$("#divTabRESale").attr("class","divSearchInAct");$("#divTabREBorrow").attr("class","divSearchInAct");$("#divTabRESaler").attr("class","divSearchAct");$("#tab-line_1").css("display","block");$("#tab-line_2").css("display","none");ChangeClassName("divTabREBorrow",false);ChangeClassName("divTabRESale",false);ChangeClassName("divTabRESaler",true);break}}function ChangeClassName(a,c){var d=document.getElementById(a).getElementsByTagName("div");if(c==true){for(var b=0;b<d.length;b++){if(d[b].className=="tabLeftInAct"){d[b].className="tabLeftAct"}else{if(d[b].className=="tabCenterInAct"){d[b].className="tabCenterAct"}else{if(d[b].className=="tabRightInAct"){d[b].className="tabRightAct"}}}}}else{for(var b=0;b<d.length;b++){if(d[b].className=="tabLeftAct"){d[b].className="tabLeftInAct"}else{if(d[b].className=="tabCenterAct"){d[b].className="tabCenterInAct"}else{if(d[b].className=="tabRightAct"){d[b].className="tabRightInAct"}}}}}}function DisplaySearchAdvanceHome(){}function DisplaySearchAdvance(){if($("#lblSearch").text()=="Bỏ tìm kiếm nâng cao"){$("#lblSearch").text("Tìm kiếm nâng cao");$("#adv-search").css("display","none");$("#adv-search select").prop("selectedIndex",0)}else{$("#lblSearch").text("Bỏ tìm kiếm nâng cao");$("#adv-search").css("display","block")}}function ChangeCategory(d){var b='<li class="advance-options" vl="0">--Chọn loại nhà đất--</li>';if(d==38){b+='<li class="advance-options" vl="324">- Bán căn hộ chung cư</li>';b+='<li class="advance-options" vl="362">- Tất cả các loại nhà bán</li>';b+='<li class="advance-options" vl="41">&nbsp;&nbsp;&nbsp;&nbsp;+ Bán nhà riêng</li>';b+='<li class="advance-options" vl="325">&nbsp;&nbsp;&nbsp;&nbsp;+ Bán nhà biệt thự, liền kề</li>';b+='<li class="advance-options" vl="163">&nbsp;&nbsp;&nbsp;&nbsp;+ Bán nhà mặt phố</li>';b+='<li class="advance-options" vl="361">- Tất cả các loại đất bán</li>';b+='<li class="advance-options" vl="40">&nbsp;&nbsp;&nbsp;&nbsp;+ Bán đất nền dự án</li>';b+='<li class="advance-options" vl="283">&nbsp;&nbsp;&nbsp;&nbsp;+ Bán đất</li>';b+='<li class="advance-options" vl="44">- Bán trang trại, khu nghỉ dưỡng</li>';b+='<li class="advance-options" vl="45">- Bán kho, nhà xưởng</li>';b+='<li class="advance-options" vl="48">- Bán loại bất động sản khác</li>'}else{if(d==49){var a=cateList[1].children;for(var c=0;c<a.length;c++){b+='<li class="advance-options" vl="'+a[c].id+'">'+a[c].name+"</li>"}}}hdbCategoryRe.UpdateOptions(b);hdbCategoryRe.SetValue(0)}function ChangeCategoryContext(d,e){var b="";if(d==38){b='<li class="advance-options" vl="0">--Chọn loại nhà đất--</li>';b+='<li class="advance-options" vl="324">- Bán căn hộ chung cư</li>';b+='<li class="advance-options" vl="362">- Tất cả các loại nhà bán</li>';b+='<li class="advance-options" vl="41">&nbsp;&nbsp;&nbsp;&nbsp;+ Bán nhà riêng</li>';b+='<li class="advance-options" vl="325">&nbsp;&nbsp;&nbsp;&nbsp;+ Bán nhà biệt thự, liền kề</li>';b+='<li class="advance-options" vl="163">&nbsp;&nbsp;&nbsp;&nbsp;+ Bán nhà mặt phố</li>';b+='<li class="advance-options" vl="361">- Tất cả các loại đất bán</li>';b+='<li class="advance-options" vl="40">&nbsp;&nbsp;&nbsp;&nbsp;+ Bán đất nền dự án</li>';b+='<li class="advance-options" vl="283">&nbsp;&nbsp;&nbsp;&nbsp;+ Bán đất</li>';b+='<li class="advance-options" vl="44">- Bán trang trại, khu nghỉ dưỡng</li>';b+='<li class="advance-options" vl="45">- Bán kho, nhà xưởng</li>';b+='<li class="advance-options" vl="48">- Bán loại bất động sản khác</li>'}else{if(d==49){var a=cateList[1].children;b='<li class="advance-options" vl="0">--Chọn loại nhà đất--</li>';for(var c=0;c<a.length;c++){b+='<li class="advance-options" vl="'+a[c].id+'">'+a[c].name+"</li>"}}}hdbCategoryRe.UpdateOptions(b);hdbCategoryRe.SetValue(e)}function SortByID(c,d){return c.id>d.id?1:-1}function SortByOrder(c,d){return c.order>d.order?1:-1}function SortByName(c,d){return c.name>d.name?1:-1}LocationControl=function(a){if(a.city!=null){this.cboCity=a.city;this.cboCity.BindChangeEvent(this,this.ChangeCity)}else{this.cboCity=null}if(a.distr!=null){this.cboDistr=a.distr;this.cboDistr.BindChangeEvent(this,this.ChangeDistrict);if(___isIE==false){this.cboDistr.bt("Chọn Tỉnh/Thành phố để hiện ra danh sách quận/huyện",{trigger:"hover",positions:a.toolTipPosition,width:"170px",fill:"#ffff99",offsetParent:"body",showTip:function(b){if(a.city.GetValue()=="CN"){$(b).show()}else{$(b).hide()}}})}}else{this.cboDistr=null}if(a.ward!=null){this.cboWard=a.ward;this.cboWard.BindChangeEvent(this,this.ChangeWard);if(___isIE==false){this.cboWard.bt("Chọn Quận/Huyện để hiện ra danh sách phường/xã",{trigger:"hover",positions:a.toolTipPosition,width:"170px",fill:"#ffff99",offsetParent:"body",showTip:function(b){if(a.distr.GetValue()=="0"){$(b).show()}else{$(b).hide()}}})}}else{this.cboWard=null}if(a.street!=null){this.cboStreet=a.street;this.cboStreet.BindChangeEvent(this,this.ChangeStreet);if(___isIE==false){this.cboStreet.bt("Chọn Quận/Huyện phố để hiện ra danh sách đường/phố",{trigger:"hover",positions:a.toolTipPosition,width:"170px",fill:"#ffff99",offsetParent:"body",showTip:function(b){if(a.distr.GetValue()=="0"){$(b).show()}else{$(b).hide()}}})}}else{this.cboStreet=null}if(a.project!=null){this.cboProject=a.project;this.cboProject.BindChangeEvent(this,this.ChangeProject);if(___isIE==false){this.cboProject.bt("Chọn Quận/Huyện để hiện ra danh sách dự án",{trigger:"hover",positions:a.toolTipPosition,width:"170px",fill:"#ffff99",offsetParent:"body",showTip:function(b){if(a.distr.GetValue()=="0"){$(b).show()}else{$(b).hide()}}})}}else{this.cboProject=null}};function dynamicSort(a){var b=1;if(a[0]==="-"){b=-1;a=a.substr(1)}return function(c,d){var e=(c[a]<d[a])?-1:(c[a]>d[a])?1:0;return e*b}}LocationControl.prototype.ChangeCity=function(a){var b=a;if(b.cboCity!=null){var c=b.cboCity.GetValue();var d='<li vl="0" class="advance-options">--Chọn Quận/Huyện--</li>';var e='<li vl="0" class="advance-options">--Chọn dự án--</li>';var f='<li vl="0" class="advance-options">--Chọn Đường/Phố--</li>';var h=[],m=[],n=[];var o=[];for(var k=0;k<cityList.length;k++){if(cityList[k].code==c){h=cityList[k].district;for(var p=0;p<h.length;p++){h[p].order=h[p].id;if(c=="HN"){if(h[p].id==718){h[p].order=15}else{if(h[p].id>15){h[p].order=h[p].id+1}}}}h=h.sort(SortByOrder);break}}for(var k=0;k<h.length;k++){d+="<li vl='"+h[k].id+'\' class="advance-options">'+h[k].name+"</li>";m=h[k].project;for(var l=0;l<m.length;l++){o.push(m[l])}n=h[k].street;n=n.sort(SortByID);for(var l=0;l<n.length;l++){f+="<li vl='"+n[l].id+'\' class="advance-options">'+n[l].name+"</li>"}}o.sort(dynamicSort("name"));for(var l=0;l<o.length;l++){e+="<li vl='"+o[l].id+'\' class="advance-options">'+o[l].name+"</li>"}if(b.cboDistr!=null){b.cboDistr.UpdateOptions(d);b.cboDistr.SetValue(0)}if(b.cboProject!=null){b.cboProject.UpdateOptions(e);b.cboProject.SetValue(0)}if(b.cboStreet!=null){b.cboStreet.UpdateOptions(f);b.cboStreet.SetValue(0)}if(b.cboWard!=null){var g='<li vl="0" class="advance-options">--Chọn Phường/Xã--</li>';b.cboWard.UpdateOptions(g);b.cboWard.SetValue(0)}}};LocationControl.prototype.ChangeDistrict=function(a){var b=a;if(b.cboCity!=null&&b.cboDistr!=null){var c=b.cboCity.GetValue();var g=b.cboDistr.GetValue();var f='<li vl="0" class="advance-options">--Chọn Phường/Xã--</li>';var d='<li vl="0" class="advance-options">--Chọn dự án--</li>';var e='<li vl="0" class="advance-options">--Chọn Đường/Phố--</li>';var n=[],l=[],m=[];for(var h=0;h<cityList.length;h++){if(cityList[h].code==c){for(var k=0;k<cityList[h].district.length;k++){if(cityList[h].district[k].id==g){l=cityList[h].district[k].project;n=cityList[h].district[k].ward;m=cityList[h].district[k].street;break}}}}m=m.sort(SortByID);n=n.sort(SortByName);if(b.cboProject!=null){for(var k=0;k<l.length;k++){d+="<li vl='"+l[k].id+'\' class="advance-options">'+l[k].name+"</option>"}b.cboProject.UpdateOptions(d);b.cboProject.SetValue(0)}if(b.cboStreet!=null){for(var k=0;k<m.length;k++){e+="<li vl='"+m[k].id+"'>"+m[k].name+"</li>"}b.cboStreet.UpdateOptions(e);b.cboStreet.SetValue(0)}if(b.cboWard!=null){for(var k=0;k<n.length;k++){f+="<li vl='"+n[k].id+"'>"+n[k].name+"</li>"}b.cboWard.UpdateOptions(f);b.cboWard.SetValue(0)}}};LocationControl.prototype.ChangeWard=function(){};LocationControl.prototype.ChangeStreet=function(){};LocationControl.prototype.ChangeProject=function(){};LocationControl.prototype.ChangeLocation=function(a){if(a.city!=null){this.cboCity.SetValue(a.city);this.ChangeCity(this)}if(a.distr!=null){this.cboDistr.SetValue(a.distr);this.ChangeDistrict(this)}if(a.wardid!=null){this.cboWard.SetValue(a.wardid);this.ChangeWard(this)}if(a.streetid!=null){this.cboStreet.SetValue(a.streetid);this.ChangeStreet(this)}if(a.projid!=null){this.cboProject.SetValue(a.projid);this.ChangeProject(this)}hdbBedRoom.SetValue(-1);hdbHomeDirection.SetValue(-1);hdbPrice.SetValue(-1);hdbArea.SetValue(-1)};function GetPrices(a){var d=[];if(a==38){d=priceLevel[0]}else{if(a==49){d=priceLevel[1]}}var b='<li vl="-1" class="advance-options">--Chọn mức giá--</li>';for(var c=0;c<d.length;c++){b+='<li vl="'+d[c].Name+'" class="advance-options">'+d[c].Value+"</li>"}hdbPrice.UpdateOptions(b)}function sortDropDownListByText(b){var a=$("#"+b+" option:first");var c=$("#"+b+" option:not(:first)").sort(function(d,e){return d.text==e.text?0:d.text<e.text?-1:1});$("#"+b).html(c).prepend(a)}SearchModeControl=new function(){this.isAdvance=false;this.ChangeMode=function(a){if(a!=undefined){this.isAdvance=a}if(this.isAdvance==false){$("#lblSearch").removeClass("advance");$("#lblSearch").text("Tìm nâng cao");$("#searchArea").css("overflow","hidden");$(".adv-search").css("display","none");$("#home-advsearch select").prop("selectedIndex",0);this.isAdvance=true}else{$("#lblSearch").addClass("advance");$("#lblSearch").text("Bỏ tìm nâng cao");$("#searchArea").css("overflow","auto");$(".adv-search").css("display","block");this.isAdvance=false}}};$(function(){$(".adv-search select").each(function(){if(SearchModeControl.isAdvance==false){var c=$(this).val();if(c!="0"&&c!="-1"){SearchModeControl.ChangeMode()}}});$("#lblSearch").click(function(){SearchModeControl.ChangeMode()});if(cityList.length==0){if(typeof cityListOTher1!="undefined"){cityList=$.merge(cityList,cityListOTher1)}if(typeof cityListOTher2!="undefined"){cityList=$.merge(cityList,cityListOTher2)}if(typeof cityListOTher3!="undefined"){cityList=$.merge(cityList,cityListOTher3)}if(typeof cityListOTher4!="undefined"){cityList=$.merge(cityList,cityListOTher4)}}if(hdbCategory!=null){hdbCategory.BindChangeEvent(hdbCategory,function(c){ChangeCategory(c.GetValue());GetPrices(c.GetValue())})}var b=window.location.pathname=="/"?"right":"left";if(hdbBrokerTypeBDS!=null&&___isIE==false){hdbBrokerTypeBDS.bt("Chọn loại giao dịch để hiện ra danh sách loại nhà đất",{trigger:"hover",positions:b,width:"170px",fill:"#ffff99",offsetParent:"body",showTip:function(c){if(hdbBrokerCategory.GetValue()=="0"){$(c).show()}else{$(c).hide()}}})}_locationProduct=new LocationControl({city:hdbCity,distr:hdbDistrict,project:hdbProject,ward:hdbWard,street:hdbStreet,toolTipPosition:b});_locationBroker=new LocationControl({city:hdbBrokerCity,distr:hdbBrokerDistrict,project:hdbBrokerProject,ward:null,street:null,toolTipPosition:b});if(hdbBrokerCategory!=null){hdbBrokerCategory.BindChangeEvent(hdbBrokerTypeBDS,function(c){var e='<li class="advance-options" vl="0">--Chọn loại giao dịch--</li>';var d=[];if(hdbBrokerCategory.GetValue()=="38"){e+='<li class="advance-options" vl="1">Bán đất nền dự án</li>';e+='<li class="advance-options" vl="2">Bán nhà riêng</li>';e+='<li class="advance-options" vl="3">Bán trang trại, khu nghỉ dưỡng</li>';e+='<li class="advance-options" vl="4">Bán kho, nhà xưởng</li>';e+='<li class="advance-options" vl="5">Bán loại bất động sản khác</li>';e+='<li class="advance-options" vl="6">Bán nhà mặt phố</li>';e+='<li class="advance-options" vl="7">Bán đất</li>';e+='<li class="advance-options" vl="8">Bán căn hộ chung cư</li>';e+='<li class="advance-options" vl="9">Bán nhà biệt thự, liền kề</li>'}else{if(hdbBrokerCategory.GetValue()==49){e+='<li class="advance-options" vl="10">Cho thuê căn hộ chung cư</li>';e+='<li class="advance-options" vl="11">Cho thuê văn phòng</li>';e+='<li class="advance-options" vl="12">Cho thuê nhà mặt phố</li>';e+='<li class="advance-options" vl="13">Cho thuê nhà riêng</li>';e+='<li class="advance-options" vl="14">Cho thuê kho, nhà xưởng, đất</li>';e+='<li class="advance-options" vl="15">Cho thuê cửa hàng, ki ốt</li>';e+='<li class="advance-options" vl="16">Cho thuê loại bất động sản khác</li>';e+='<li class="advance-options" vl="17">Cho thuê nhà trọ, phòng trọ</li>'}}hdbBrokerTypeBDS.UpdateOptions(e);hdbBrokerTypeBDS.SetValue(0)})}if((hdbHomeDirection!=null&&hdbBedRoom!=null&&hdbWard!=null&&hdbStreet!=null&&hdbProject!=null)&&(hdbHomeDirection.GetValue()!="-1"||hdbBedRoom.GetValue()!="-1"||hdbWard.GetValue()!="0"||hdbStreet.GetValue()!="0"||hdbProject.GetValue()!="0")){SearchModeControl.ChangeMode(true)}else{SearchModeControl.ChangeMode(false)}if(___isIE){var a=$("#txtAutoComplete").attr("placeholder");$("#txtAutoComplete").css("color","#777");$("#txtAutoComplete").css("height","19px");$("#txtAutoComplete").css("padding-top","2px");$("#txtAutoComplete").css("padding-bottom","2px");$("#txtAutoComplete").css("line-height","18px");if($("#txtAutoComplete").val().length==0){$("#txtAutoComplete").val(a)}$("#txtAutoComplete").blur(function(){if($("#txtAutoComplete").val().length==0){$("#txtAutoComplete").val(a)}});$("#txtAutoComplete").focus(function(){if($("#txtAutoComplete").val()==a){$("#txtAutoComplete").val("")}})}$("#txtAutoComplete").click(function(){if($(this).val().length==0){$(".suggestTT").show()}});$("#txtAutoComplete").blur(function(){$(".suggestTT").hide()});$("#txtAutoComplete").mouseout(function(){$(".suggestTT").hide()});$(".suggestTT").mouseover(function(){$(".suggestTT").show()});$(".suggestTT").mouseout(function(){$(".suggestTT").hide()});$("#searchArea").scroll(function(){$(".suggestTT").hide()});$("#txtAutoComplete").keydown(function(c){$(".suggestTT").hide();return c.keyCode!=13});$("#txtAutoComplete").autocomplete({source:function(e,f){var g=UnicodeToKoDau(e.term).trim();var c=null;if(JSON!=undefined&&localStorage!=undefined){c=JSON.parse(localStorage.getItem("suggestion-cache"))}if(c==null){c=[{}]}var d=c[g];if(d!=null){f(d);return}else{var h="";if(hdbCategory.GetValue()==38){h="https://suggestion1.batdongsan.com.vn/"}else{h="https://suggestion2.batdongsan.com.vn/"}cnt=0;$.ajax({url:h+g,success:function(i){c[g]=i;if(localStorage!=undefined){localStorage.setItem("suggestion-cache",JSON.stringify(c))}f(i)}})}},minLength:2,select:function(c,e){var d=e.item.id;_locationProduct.ChangeLocation(d)}}).on("click",function(){if(document.hasFocus()){$("ul.ui-autocomplete").hide()}})});var cnt=0;$(".home-product-search").keyup(function(a){if(a.keyCode==13&&cnt>0){cnt=0;$(".timkiems").find(".btnSearch").click()}else{if(a.keyCode==13){cnt++}}});$("#product_search").keyup(function(a){if(a.keyCode==13&&cnt>0){cnt=0;$("#btnSearchContext").click()}else{if(a.keyCode==13){cnt++}}});